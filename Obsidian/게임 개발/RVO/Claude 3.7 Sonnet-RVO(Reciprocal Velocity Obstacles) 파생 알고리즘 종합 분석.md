## 1. 개요 및 핵심 발견

Reciprocal Velocity Obstacles(RVO)에서 파생된 알고리즘은 **다중 에이전트 시스템에서 충돌 회피**라는 공통 목표를 가지고 있으나, 각각 고유한 특성과 장단점을 가지고 있습니다. 이 알고리즘들은 적용 환경, 계산 효율성, 그리고 충돌 회피 성능 면에서 차이가 있습니다.

**핵심 발견:**

- 16개 이상의 RVO 파생 알고리즘이 개발되었습니다.
- 각 알고리즘은 특정 환경이나 조건에서 최적의 성능을 발휘합니다.
- HRVO는 불확실성이 있는 실제 환경에서 가장 안정적입니다.
- ORCA는 최적의 경로를 수학적으로 보장하지만 센서 오차에 취약합니다.
- 최신 알고리즘들은 특수한 형태(타원형, 다각형)의 에이전트나 비홀로노믹 제약 조건을 고려합니다.

---

## 2. 알고리즘의 역사적 발전

Velocity Obstacle 개념은 100년 이상의 역사를 가지고 있으며, 현대적 알고리즘의 발전은 다음과 같이 진행되었습니다:

|연도|알고리즘|개발자|주요 특징|
|---|---|---|---|
|1903|항해판 접근법|-|해상 항구 내비게이션에 최초 적용|
|1989|조종판 접근법|Tychonievich 등|AI 분야에서 첫 적용|
|1993|VO (Velocity Obstacle)|Fiorini & Shiller|로봇공학에서 정식화|
|1998|충돌 원뿔|Chakravarthy & Ghose|사이버네틱스 분야에서 적용|
|2008|RVO (Reciprocal VO)|van den Berg, Lin, Manocha|다중 에이전트로 확장, 진동 현상 감소|
|2009|HRVO (Hybrid RVO)|-|방향성을 고려하여 진동 현상 추가 감소|
|2011|ORCA|van den Berg, Guy, Lin, Manocha|선형 프로그래밍을 통한 최적화|
|2012+|다양한 특수 알고리즘|다양한 연구자|NH-ORCA, ERVO, GVO, RRVO 등 등장|

---

## 3. 주요 파생 알고리즘 상세 설명

### 3.1 VO (Velocity Obstacle) - 기본 개념

**작동 원리:** 다른 에이전트나 장애물과 충돌할 수 있는 모든 속도의 집합을 정의합니다. 에이전트는 이 집합 외부의 속도를 선택하여 충돌을 회피합니다.

**수식 표현:** $VO_{A|B} = {v | \exists t > 0 : tv \in D(p_B - p_A, r_A + r_B)}$

**장점:**

- 간단한 개념으로 직관적 이해 가능
- 단일 에이전트 관점에서 효과적인 충돌 회피

**단점:**

- 두 에이전트가 모두 VO를 사용하면 진동(oscillation) 현상 발생
- 에이전트 간 충돌 회피 시 비효율적

**적용 분야:** 정적 장애물이 많은 환경, 다른 에이전트가 반응하지 않는 상황

### 3.2 RVO (Reciprocal Velocity Obstacle)

**작동 원리:** 두 에이전트의 현재 속도 평균을 기준으로 속도 장애물의 꼭짓점(apex)을 이동시킵니다. 두 에이전트가 서로의 회피 행동을 예상하여 책임을 50:50으로 공유합니다.

**수식 표현:** $RVO_{A|B}(v_B, v_A) = {v'_A | 2v'_A - v_A \in VO_{A|B}(v_B)}$

**장점:**

- VO의 진동 문제를 부분적으로 해결
- 에이전트 간 협력적 충돌 회피 가능

**단점:**

- 여전히 "reciprocal dance" 현상 존재
- 센서 불확실성에 취약 (3배 더 많은 충돌 가능성)

**적용 분야:** 협력적인 다중 로봇 시스템, 비교적 단순한 환경

### 3.3 HRVO (Hybrid Reciprocal Velocity Obstacle)

**작동 원리:** RVO를 비대칭적으로 확장하여 방향 편향을 제공합니다. 에이전트가 RVO의 어느 쪽 반평면에 있느냐에 따라 VO로 대체합니다.

**장점:**

- 실제 환경에서 진동 현상을 크게 감소
- 장애물 불확실성에 대한 내성이 높음
- 실제 테스트에서 가장 적은 충돌 횟수 기록

**단점:**

- 수학적으로 최적 경로를 보장하지 않음
- ORCA보다 계산 비용이 높음 (예: 10개 에이전트 시나리오에서 ORCA는 0.46ms, HRVO는 2.4ms)

**적용 분야:** 센서 오차가 있는 실제 로봇 시스템, 동적 환경

### 3.4 ORCA (Optimal Reciprocal Collision Avoidance)

**작동 원리:** 속도 장애물의 접선 공간에서 반평면으로 안전 속도 공간을 제한합니다. 선형 프로그램을 풀어 최적의 회피 경로를 계산합니다.

**수식 표현:** $ORCA^{\tau}_{A|B} = {v|(v - (v^{opt}_A + \frac{1}{2}u)) \cdot n \geq 0}$

**장점:**

- 매끄러운 해결 경로 생성
- 에이전트 수가 증가할 때 계산 시간이 선형적으로 확장
- 작은 시간 간격 동안 충돌 없는 경로와 매끄러운 궤적 수학적 보장

**단점:**

- 장애물 불확실성에 대한 내성이 낮음
- 좁은 공간에서 교착 상태가 발생할 수 있음

**적용 분야:** 센서 정밀도가 높은 환경, 대규모 다중 에이전트 시뮬레이션

### 3.5 RRVO (Reciprocally-Rotating Velocity Obstacles)

**작동 원리:** ORCA를 확장하여 다각형 모양의 에이전트에게 회전 개념을 도입합니다. 폴리곤 에이전트의 회전을 고려한 보다 현실적인 충돌 회피를 제공합니다.

**장점:**

- 교착 상태(deadlock) 문제 감소
- 다각형 에이전트에 대해 더 현실적인 움직임 제공
- 목표 도달 속도가 더 빠름

**단점:**

- ORCA보다 계산 복잡성 증가
- 일부 성능 오버헤드 발생

**적용 분야:** 다각형 모양의 로봇, 교착 상태가 중요한 문제인 환경

### 3.6 GVO (Goal Velocity Obstacles)

**작동 원리:** 목표 영역을 VO 개념을 사용하여 지정하고, GVO 내부의 속도를 선택하여 목표와 의도적으로 "충돌"하도록 합니다.

**장점:**

- 영역 목표나 움직이는 목표에 적합
- 목표 추적 성능 향상

**단점:**

- 일반적인 충돌 회피에는 적합하지 않음
- 복잡한 환경에서는 추가 알고리즘과 결합 필요

**적용 분야:** 영역 기반 목표가 있는 시스템, 이동하는 목표 추적 시스템

### 3.7 AVO (Acceleration-Velocity Obstacle)

**작동 원리:** 가속도 기반의 회피 솔루션을 계산합니다. 가속도 변화가 있는 장애물을 고려합니다.

**장점:**

- 가속도가 변하는 장애물이 있는 환경에 적합
- 더 다양한 동적 상황 처리 가능

**단점:**

- 계산 복잡성 증가
- 가속도 측정의 정확성에 의존

**적용 분야:** 급격한 가속도 변화가 있는 환경, 자율주행차

### 3.8 ERVO/EORCA (Elliptical Reciprocal Velocity Obstacles)

**작동 원리:** 타원형 에이전트를 위해 설계된 알고리즘으로, 선형 근사화를 기반으로 ORCA를 확장합니다.

**장점:**

- 원형 대신 타원형 에이전트 모델링 가능
- 보다 현실적인 에이전트 모양 처리

**단점:**

- 원형 에이전트보다 계산 복잡도 증가
- 방향 변화 시 추가적인 변환 필요

**적용 분야:** 비대칭적 형태의 로봇, 차량 모델링이 중요한 시뮬레이션

### 3.9 NH-ORCA (Non-holonomic ORCA)

**작동 원리:** 비홀로노믹(제한된 운동 자유도) 로봇에 맞게 ORCA를 확장합니다. 모든 방향으로 즉시 움직일 수 없는 로봇의 제약조건을 고려합니다.

**장점:**

- 비홀로노믹 로봇에서 일반 ORCA보다 훨씬 안전하게 작동
- 자동차, 드론 등의 실제 제약 조건 반영

**단점:**

- 운동학적 제약으로 인한 최적 경로의 제한
- 추가적인 운동학적 변환 필요

**적용 분야:** 자율주행차, 드론, 기타 비홀로노믹 로봇

### 3.10 VR-ORCA (Variable-Responsibility ORCA)

**작동 원리:** 에이전트마다 다른 회피 책임을 할당하는 ORCA 변형입니다. 에이전트 간 책임 비율을 조절할 수 있습니다.

**장점:**

- 우선순위가 다른 다양한 에이전트 처리 가능
- 에이전트 간 협력의 유연성 향상

**단점:**

- 책임 비율 설정의 복잡성
- 모든 에이전트가 알고리즘을 준수해야 효과적

**적용 분야:** 우선순위가 다른 혼합 환경, 인간-로봇 상호작용 시스템

### 3.11 ClearPath

**작동 원리:** 이산적 최적화 방법을 통해 에이전트 이동을 계산하며, 데이터 병렬성과 스레드 레벨 병렬성을 활용합니다.

**장점:**

- 기존 속도 장애물 기반 방법보다 10배 이상 빠름
- 수십만 개의 이질적 에이전트 처리 가능
- 병렬 처리로 인한 높은 확장성

**단점:**

- 병렬 처리 하드웨어 필요
- 다른 알고리즘에 비해 구현 복잡성 증가

**적용 분야:** 대규모 군중 시뮬레이션, 실시간 게임, 가상 환경

### 3.12 V-RVO

**작동 원리:** Velocity Obstacle와 BVC(Buffer Velocity Constraints)의 장점을 결합합니다. 시간 기반의 충돌 회피와 위치 기반의 장점을 모두 활용합니다.

**장점:**

- 교착 상태 해결을 위한 메커니즘 포함
- 높은 차수의 동역학에서도 충돌 회피 보장

**단점:**

- 두 방식의 결합으로 인한 구현 복잡성
- 특정 상황에서의 절충안 필요

**적용 분야:** 복잡한 동역학을 가진 시스템, 교착 상태가 빈번한 환경

### 3.13 CVO (Common Velocity Obstacles)

**작동 원리:** 에이전트 간 공통 속도 영역을 계산하여 협력적 충돌 회피를 수행합니다.

**장점:**

- 협력적 시나리오에서 효과적
- 공통 목표를 가진 에이전트에 적합

**단점:**

- 비협력적 에이전트에는 효과적이지 않음
- 에이전트 간 조정 필요

**적용 분야:** 협력적 다중 로봇 시스템

### 3.14 FVO (Finite-time-interval Velocity Obstacles)

**작동 원리:** 유한 시간 간격 동안의 충돌 회피를 처리합니다. 특정 시간 창 내에서의 충돌만 고려합니다.

**장점:**

- 계산 부하 감소
- 장기적 계획보다 단기적 안전성 우선

**단점:**

- 장기적 최적화 부족
- 시간 간격 선택의 민감성

**적용 분야:** 계산 자원이 제한된 환경, 단기 충돌 회피가 중요한 시스템

### 3.15 NLVO (Nonlinear Velocity Obstacles)

**작동 원리:** 비선형적인 궤적을 가진 장애물이나 에이전트를 처리합니다. 시간에 따라 변하는 가속도나 방향 변화를 고려합니다.

**장점:**

- 비선형 움직임 패턴 처리 가능
- 보다 현실적인 동적 환경 모델링

**단점:**

- 계산 복잡도 증가
- 비선형 예측의 정확성 문제

**적용 분야:** 바다에서의 선박 충돌 방지, 복잡한 동적 환경

### 3.16 PVO (Recursive Probabilistic Velocity Obstacles)

**작동 원리:** 확률적 접근 방식을 통해 불확실성을 고려합니다. 충돌 가능성을 확률로 정량화합니다.

**장점:**

- 센서 및 예측 불확실성 명시적 처리
- 리스크 기반 의사결정 가능

**단점:**

- 확률 모델의 복잡성
- 계산 오버헤드 증가

**적용 분야:** 높은 불확실성이 있는 환경, 확률적 로보틱스 시스템

---

## 4. 알고리즘 비교 분석

### 4.1 계산 효율성 비교

|알고리즘|계산 복잡도|10개 에이전트 시 평균 계산 시간|
|---|---|---|
|VO|O(n²)|2.000ms|
|RVO|O(n²)|2.100ms|
|HRVO|O(n²)|2.400ms|
|ORCA|O(n)|0.460ms|
|ClearPath|O(n log n)|10배 이상 빠름|

- **ORCA**: 에이전트 수에 따라 계산 시간이 선형적으로 증가 (증가율 = 3.4 × 10⁻⁵s/n)
- **VO, RVO, HRVO**: 에이전트 수 증가에 따라 계산 시간이 지수적으로 증가
- **ClearPath**: 병렬 처리로 인해 대규모 시뮬레이션에서 가장 효율적

### 4.2 안전성 비교 (이상적 조건 vs. 센서 오차 조건)

|알고리즘|이상적 조건 충돌률|센서 오차 조건 충돌률|최소 분리 거리(이상적/오차)|
|---|---|---|---|
|VO|9.203%|7.749%|0.581m / 0.624m|
|RVO|3.140%|9.380%|0.831m / 0.577m|
|HRVO|0.053%|2.878%|0.996m / 0.836m|
|ORCA|0.038%|6.881%|1.000m / 0.757m|

- **HRVO**: 실제 환경의 불확실성에 가장 강인함
- **ORCA**: 이상적 조건에서 가장 안전하지만 센서 오차에 매우 취약
- **RVO**: 센서 오차 시 충돌 가능성 3배 증가

### 4.3 경로 품질 비교

- **VO**: 경로 조정이 갑작스럽고, 충돌이 해결될 때까지 진동이 심함
- **RVO**: VO보다 점진적인 궤적 조정을 보이지만 여전히 진동 현상 존재
- **HRVO**: 방향 결정 시 초기 진동이 크게 감소, 나선형 행동 경향 있음
- **ORCA**: 가장 매끄러운 해결 경로 생성, 수학적으로 최적성 보장
- **RRVO**: 교착 상태가 적고 목표 도달 속도가 빠름

---

## 5. 적용 분야별 권장 알고리즘

|적용 분야|권장 알고리즘|이유|
|---|---|---|
|밀집된 다중 에이전트 시뮬레이션|ClearPath, ORCA|처리 속도와 경로 품질의 우수한 균형|
|자율주행차, 드론|NH-ORCA, AVO|비홀로노믹 제약 조건과 가속도 변화 처리|
|실제 로봇 시스템|HRVO|센서 불확실성과 위치 오차에 대한 내성|
|비디오 게임 내비게이션|ORCA, HRVO|매끄러운 경로와 계산 효율성 균형|
|선박 충돌 방지|NLVO|비선형 궤적과 복잡한 동역학 처리|
|다각형/타원형 에이전트|RRVO, ERVO|비원형 에이전트의 현실적 처리|
|불확실성이 높은 환경|PVO, HRVO|확률적 접근과 불확실성 내성|
|우선순위가 있는 에이전트|VR-ORCA|에이전트별 책임 수준 조정 가능|

---

## 6. 최신 연구 동향 및 향후 발전 방향

1. **기계학습 통합**
    
    - 강화학습(RL)과 결합하여 환경에 적응하는 충돌 회피 전략 개발
    - 경험 기반 최적화로 상황별 최적 알고리즘 선택
2. **하이브리드 접근법**
    
    - 여러 알고리즘의 장점을 결합 (예: V-RVO, ORCA-A*)
    - 상황에 따라 적응적으로 알고리즘 전환
3. **불확실성 처리 개선**
    
    - 센서 데이터의 불확실성을 더 정교하게 모델링
    - 확률적 접근법의 확장 및 개선
4. **인간-로봇 상호작용**
    
    - 사람의 이동 패턴을 인식하고 사회적으로 적절한 회피 행동 구현
    - 사회적 규범을 고려한 경로 계획
5. **하드웨어 가속화**
    
    - GPU 및 전용 하드웨어를 활용한 계산 효율성 극대화
    - 실시간 처리를 위한 병렬화 알고리즘 발전
6. **분산 알고리즘**
    
    - 통신 제약이 있는 환경에서도 효과적으로 작동하는 분산형 회피 전략
    - 제한된 통신 환경에서의 협력적 충돌 회피

RVO 파생 알고리즘들은 각각 고유한 특성과 성능 특징을 가지고 있으므로, 구체적인 응용 요구사항에 따라 적절한 알고리즘을 선택하는 것이 중요합니다.